(this["webpackJsonpmemory-game-client"]=this["webpackJsonpmemory-game-client"]||[]).push([[0],{14:function(e,t,n){e.exports={card:"Card_card__1eE8R",matched:"Card_matched__3MMvc",masked:"Card_masked__1qIZo"}},18:function(e,t,n){e.exports={mainContainer:"ComplexityComp_mainContainer__1rS0U",buttonContainer:"ComplexityComp_buttonContainer__2V1Za"}},31:function(e,t,n){e.exports={playArea:"PlayArea_playArea__3POi7"}},33:function(e,t,n){e.exports={timerContainer:"Timer_timerContainer__1TXqM"}},34:function(e,t,n){e.exports={statsContainer:"Stats_statsContainer__10Lpp"}},42:function(e,t,n){},43:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(0),a=n.n(c),i=n(30),o=n.n(i),s=n(17),u=(n(42),n(8)),j=n(9),d=n(2),l=(n(43),n(36)),f=n(14),b=n.n(f),m={heart:n.p+"static/media/heart.c9b12bb5.svg",spades:n.p+"static/media/spade.381a4f13.svg",diamond:n.p+"static/media/diamond.53998217.svg",club:n.p+"static/media/club.2bc17834.svg"};var p=function(e){var t,n=e.index,a=(e.file_id,e.handleCardOpen),i=e.open,o=e.matched,s=e.face,u=Object(c.useRef)();return Object(r.jsxs)("div",{ref:u,onClick:function(){if(o)return!1;a(n)},className:"".concat(b.a.card," ").concat(o?b.a.matched:i?"":b.a.masked),children:[Object(r.jsx)("img",{src:m[null===(t=s.suite)||void 0===t?void 0:t.toLowerCase()],alt:"heart"}),Object(r.jsx)("span",{children:s.rank})]})},h=n(31),O=n.n(h),x=n(32),v=n.n(x).a.create({baseURL:"https://server-memory-game.herokuapp.com/api"});v.interceptors.response.use((function(e){return e.data}),(function(e){return Promise.reject(e)}));var C=v,_=n(33),y=n.n(_);function g(e){var t=parseInt(e,10),n=Math.floor(t/3600),r=Math.floor((t-3600*n)/60),c=t-3600*n-60*r;return n<10&&(n="0"+n),r<10&&(r="0"+r),c<10&&(c="0"+c),n+":"+r+":"+c}var k=function(e){var t=e.errorCount,n=(e.startTimer,e.isTimerStarted),a=Object(c.useState)(0),i=Object(j.a)(a,2),o=i[0],s=i[1],u=Object(c.useRef)();return Object(c.useEffect)((function(){return n&&(u.current=setInterval((function(){s((function(e){return e+1}))}),1e3)),function(){clearInterval(u.current)}}),[n]),Object(r.jsxs)("div",{className:y.a.timerContainer,children:[Object(r.jsxs)("div",{children:["Time: ",g(o)]}),Object(r.jsxs)("div",{children:["Errors: ",t]})]})};var E=function(e){var t=e.file_id,n=e.numCards,a=e.onGameOver,i=Object(c.useRef)(),o=Object(c.useState)(!1),s=Object(j.a)(o,2),d=s[0],f=s[1],b=Object(c.useState)(Array(n).fill({open:!1,matched:!1,face:{}})),m=Object(j.a)(b,2),h=m[0],x=m[1],v=Object(c.useState)(0),_=Object(j.a)(v,2),y=_[0],g=_[1];function E(e){if(d||(f(!0),i.current=(new Date).getTime()),h.filter((function(e){return e.open})).length>1)return!1;var n=Object(l.a)(h),r=Object(u.a)({},n[e]);if(Object.keys(r.face).length>0)return r.open=!r.open,n[e]=r,void x(n);C.post("/open-card-face",{file_id:t,index:e}).then((function(t){r.face=t,r.open=!r.open,n[e]=r,x(n)})).catch(console.error)}return Object(c.useEffect)((function(){if(2===h.filter((function(e){return e.open})).length){var e=h.reduce((function(e,t,n){return t.open&&e.push(n),e}),[]),t=Object(j.a)(e,2),n=t[0],r=t[1],c=h[n].face,a=h[r].face;setTimeout((function(){c.suite===a.suite&&c.rank===a.rank?x((function(e){return e.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{open:!1,matched:!!e.matched||(t===n||t===r)})}))})):(g((function(e){return e+1})),x((function(e){return e.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{open:!1})}))})))}),3e3)}}),[h]),Object(c.useEffect)((function(){0===h.filter((function(e){return!e.matched})).length&&C.post("/game-over",{file_id:t}).then((function(e){a({errorCount:y,timeElapsed:(new Date).getTime()-i.current})})).catch(console.error)}),[h]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(k,{isTimerStarted:d,startTimer:i.current,errorCount:y}),Object(r.jsx)("div",{className:O.a.playArea,children:h.map((function(e,n){return Object(r.jsx)(p,Object(u.a)({index:n,handleCardOpen:E,file_id:t},e),n)}))})]})},S=n(18),T=n.n(S);var M=function(e){var t=e.onComplexityChange;return Object(r.jsxs)("div",{className:T.a.mainContainer,children:[Object(r.jsx)("h3",{children:"Please Select Game Difficulty"}),Object(r.jsxs)("div",{className:T.a.buttonContainer,children:[Object(r.jsx)("button",{type:"button",onClick:function(){return t("easy")},children:"Easy"}),Object(r.jsx)("button",{type:"button",onClick:function(){return t("medium")},children:"Medium"}),Object(r.jsx)("button",{type:"button",onClick:function(){return t("hard")},children:"Hard"})]})]})},A=n(34),I=n.n(A);var N=function(e){var t=e.errorCount,n=e.timeElapsed;return Object(r.jsxs)("div",{className:I.a.statsContainer,children:[Object(r.jsx)("h2",{children:"GAME OVER"}),Object(r.jsxs)("h4",{children:["Error Count: ",t]}),Object(r.jsxs)("h4",{children:["Time Elapsed: ",g(parseInt(n/1e3))]})]})};var R=Object(d.f)((function(e){var t=e.history,n=Object(c.useState)(""),a=Object(j.a)(n,2),i=a[0],o=a[1],s=Object(c.useState)({}),l=Object(j.a)(s,2),f=l[0],b=l[1];return Object(r.jsxs)(d.c,{children:[Object(r.jsx)(d.a,{path:"/play",children:Object(r.jsx)(E,Object(u.a)(Object(u.a)({},i),{},{onGameOver:function(e){b(e),t.push("/game-over")}}))}),Object(r.jsx)(d.a,{path:"/game-over",children:Object(r.jsx)(N,Object(u.a)({},f))}),Object(r.jsx)(d.a,{path:"/",children:Object(r.jsx)(M,{onComplexityChange:function(e){C.post("/generate-game",{complexity:e}).then((function(e){o(e),t.push("/play")})).catch(console.error)}})})]})}));o.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(s.a,{children:Object(r.jsx)(R,{})})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.b2e5fbd1.chunk.js.map